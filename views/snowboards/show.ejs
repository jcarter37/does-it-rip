<%- include('../partials/header') %>

<section id="show-page">
	<table class="table table-striped table-hover">
		<tbody>
			<tr>
			  <th scope="row">Name:</th>
			  <td><%= snowboard.name %></td>
			</tr>
		  <tr>
			<th scope="row">Release Year:</th>
			<td><%= snowboard.releaseYear %></td>
		  </tr>
		  <tr>
			<th scope="row">Price</th>
			<td><%= snowboard.price %></td>
		  </tr>
		  <tr>
			<th scope="row">Size:</th>
			<td><%= snowboard.size %></td>
		  </tr>
		  <tr>
			<th scope="row">Riding Style:</th>
			<td><%= snowboard.type %></td>
		  </tr>
		  <tr>
			<th scope="row">Shape:</th>
			<td><%= snowboard.shape %></td>
		  </tr>
		  <tr>
			<th scope="row">Flex:</th>
			<td><%= snowboard.flex %></td>
		  </tr>
		  <tr>
			<th scope="row">Ability Level:</th>
			<td><%= snowboard.abilityLevel %></td>
		  </tr>	
		</tbody>
	  </table>

<h2>Reviews</h2>
<form
	id="add-review-form"
	method="POST"
	action="/snowboards/<%= snowboard._id %>/reviews">
	<label>Review:</label>
	<textarea name="description" style="resize: none;"></textarea>
	<label>Rating:</label>
	<select name="rating">
		<option value="1">1</option>
		<option value="2">2</option>
		<option value="3">3</option>
		<option value="4">4</option>
		<option value="5">5</option>
		<option value="6">6</option>
		<option value="7">7</option>
		<option value="8">8</option>
		<option value="9">9</option>
		<option value="10">10</option>
	</select>
	<input type="submit" value="Add Review" />
</form>

<% if (snowboard.reviews.length > 0) { %>
<table>
	<table class="table table-borderless">
		<thead>
		  <tr>
			<th scope="col">Date</th>
			<th scope="col">Description</th>
			<th scope="col">Rating</th>
			<th scope="col">Recommend</th>
		  </tr>
		</thead>
	<tbody>
		 <% snowboard.reviews.forEach(function(review) { %> 
		<tr>
			<td><%= review.date %></td>
			<td><%= review.description %></td>
			<td><%= review.rating %></td>
			<td><%= review.recommend %></td>
			<td><form
				method="POST"
				action="/reviews/<%= review._id %>?_method=PUT" method="POST">
				<button class="btn btn-primary" type="button" data-bs-toggle="collapse" data-bs-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
					Update
				  </button>
				</p>
				<div class="collapse" id="collapseExample">
				  <div class="card card-body">
					<label>Review:</label>
					<textarea name="description" style="resize: none;"></textarea>
					<label>Rating:</label>
					<select name="rating">
						<option value="1">1</option>
						<option value="2">2</option>
						<option value="3">3</option>
						<option value="4">4</option>
						<option value="5">5</option>
						<option value="6">6</option>
						<option value="7">7</option>
						<option value="8">8</option>
						<option value="9">9</option>
						<option value="10">10</option>
					</select>
					<button class="btn btn-primary" type="submit">
						Update
					  </button>
				  </div>
				</div>
			
			</form></td>
            
		</tr>
		<% }); %>
	</tbody>
</table>

<% } else { %>
<h5>No Reviews Yet</h5>
<% } %>



<%- include('../partials/footer') %>